<!DOCTYPE node PUBLIC
"-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
"http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node name="/" xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd">

  <!-- ********************************************************************** -->

  <!--
      org.gnome.OnlineAccounts.Account:

      The base account interface.

      TODO: need properties/methods (e.g. "b AttentionNeeded") for whether the user needs to do an auth dance. And for whether we do such checks in the background

      TODO: need a way to get auth token and/or username/password combos.
  -->
  <interface name="org.gnome.OnlineAccounts.Account">
    <!-- Type: The type of the account.
         Known values include
         <variablelist>
         <varlistentry><term>google</term><listitem><para>The account is a Google Account. See the #org.gnome.OnlineAccounts.GoogleAccount D-Bus interface for more details.</para></listitem></varlistentry>
         </variablelist>
    -->
    <property name="Type" type="s" access="read">
      <!-- Avoid getting renamed to type_ because we clash with the GType get_type() function -->
      <annotation name="org.gtk.GDBus.C.Name" value="AccountType"/>
    </property>

    <!-- Id: An identifier for this account.
         This identifier cannot be changed and should never be
         displayed in any user interface.
      -->
    <property name="Id" type="s" access="read"/>

    <!-- Name: A human-readable description for the account.

         This property may change if the user e.g. renames the
         account.
      -->
    <property name="Name" type="s" access="readwrite"/>

    <!-- SupportedSources: A list of possible sources that this account can be used for.

         Known sources include:
         <variablelist>
         <varlistentry><term>messages</term><listitem><para>Used for email and similar communication media.</para></listitem></varlistentry>
         <varlistentry><term>events</term><listitem><para>Used for calendar appointments and upcoming events.</para></listitem></varlistentry>
         <varlistentry><term>chat</term><listitem><para>E.g. instant messaging.</para></listitem></varlistentry>
         <varlistentry><term>contacts</term><listitem><para>Used for contacts.</para></listitem></varlistentry>
         </variablelist>

         This property normally doesn't change. It can change in e.g. a newer software version.
    -->
    <property name="SupportedSources" type="as" access="read"/>

    <!-- EnabledSources: The user-configured sources this account should be used for.

         This property may change if the user e.g. reconfigures the account.

         Known sources are listed in the documentation for the #org.gnome.OnlineAccounts.Account:SupportedSources property.
    -->
    <property name="EnabledSources" type="as" access="readwrite"/>

    <!-- SourceNames:

         A property that contains the "branded" name that should be displayed in the UI rather than a generic string such as "Chat" or "E-Mail". For example, for a Google Account, this property may contain the following
         <variablelist>
         <varlistentry><term>messages</term><listitem><para>GMail</para></listitem></varlistentry>
         <varlistentry><term>events</term><listitem><para>Calendar</para></listitem></varlistentry>
         <varlistentry><term>chat</term><listitem><para>Talk</para></listitem></varlistentry>
         <varlistentry><term>contacts</term><listitem><para>Contacts</para></listitem></varlistentry>
         </variablelist>

         This property normally doesn't change. It can change in e.g. a newer software version.
    -->
    <property name="SourceNames" type="a{ss}" access="read"/>


  </interface>

  <!--
      org.gnome.OnlineAccounts.GoogleAccount:

      A Google Account, either a <empasis>hosted</emphasis> account
      (for example <emailaddress>user@mycollege.edu</emailaddress>) or
      a regular account (for example
      <emailaddress>user@gmail.com</emailaddress>).

      Objects implementing this interface also implement the
      #org.gnome.OnlineAccounts.Account interface.

      When creating this kind of account via the
      org.gnome.OnlineAccounts.Manager.AddAccount() method, you need
      to include an <literal>EmailAddress</literal> string property in
      the @construct_properties parameter.
  -->
  <interface name="org.gnome.OnlineAccounts.GoogleAccount">

    <!-- EmailAddress: The email address identifying the account.

         This value cannot be changed once set.
      -->
    <property name="EmailAddress" type="s" access="read"/>
  </interface>

  <!--
      org.gnome.OnlineAccounts.Manager:

      An interface used for managing accounts.
  -->
  <interface name="org.gnome.OnlineAccounts.Manager">

    <!--
        AddAccount:
        @type: The type of account to create. See the #org.gnome.OnlineAccounts:Type property for known types.
        @construct_properties: The properties to create the account with. See each interface (e.g. #org.gnome.OnlineAccounts.GoogleAccount) for details on what this parameter needs to include.
        @account_object_path: The object path of the created account.

        Creates a new account. Note that this does not create an
        account at the remote service.
    -->
    <method name="AddAccount">
      <arg name="type" type="s" direction="in"/>
      <arg name="construct_properties" type="a{sv}" direction="in"/>
      <arg name="account_object_path" type="o" direction="out"/>
    </method>

    <!--
        RemoveAccount:
        @account_object_path: The object path of account to delete.

        Deletes an account. Note that this does not delete the account
        at the remote service.
    -->
    <method name="RemoveAccount">
      <arg name="account_object_path" type="o" direction="in"/>
    </method>
  </interface>

</node>
